/** 텍스트 합본의 쓸데없는 요소 제거하는 함수 */
export function cleanUpText(text :string) {
    // 1. 연속된 'ㅋ', 'ㅜ', 'ㅎ', 'ㅠ'를 각각 'ㅋㅋ', 'ㅜㅜ', 'ㅎㅎ', 'ㅠㅠ'로 변환
    text = text.replace(/ㅋ+/g, 'ㅋㅋ'); // 'ㅋ' -> 'ㅋㅋ'
    text = text.replace(/ㅜ+/g, 'ㅜㅜ'); // 'ㅜ' -> 'ㅜㅜ'
    text = text.replace(/ㅎ+/g, 'ㅎㅎ'); // 'ㅎ' -> 'ㅎㅎ'
    text = text.replace(/ㅠ+/g, 'ㅠㅠ'); // 'ㅠ' -> 'ㅠㅠ'
    
    // 2. 연속된 마침표를 '..'로 변환
    text = text.replace(/\.{2,}/g, '..'); // '...' 또는 그 이상 -> '..'
    
    // 3. 연속된 공백을 하나의 공백으로 변환
    text = text.replace(/\s+/g, ' '); // 여러 개의 공백 -> 한 개의 공백
    
    // 4. 특수문자와 이모지 제거 (알파벳, 숫자, 한글, 공백만 남김, '/'은 제외)
    text = text.replace(/[^\w\sㄱ-ㅎㅏ-ㅣ가-힣]+/g, ''); // '/'도 특수문자처럼 제거

    // 5. 한글 자음(ㄱ-ㅎ), 모음(ㅏ-ㅣ)이 2개 이상 연속되면 2개만 남기기
    text = text.replace(/([ㄱ-ㅎㅏ-ㅣ])\1{2,}/g, '$1$1'); // 'ㄱㄱ', 'ㅏㅏ'와 같은 패턴만 남김

    // 6. 줄바꿈 문자 (\n) 삭제
    text = text.replace(/\n/g, ''); // 줄바꿈 문자를 완전히 제거
    // 앞뒤 공백 제거
    return text.trim();
}